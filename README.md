# EIG - ä¼ä¸šæ™ºèƒ½å›¾è°±ç³»ç»Ÿ

[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![TypeScript](https://img.shields.io/badge/TypeScript-5.7-blue.svg)](https://www.typescriptlang.org/)
[![React](https://img.shields.io/badge/React-18.2-blue.svg)](https://reactjs.org/)
[![Node.js](https://img.shields.io/badge/Node.js-18+-green.svg)](https://nodejs.org/)
[![PostgreSQL](https://img.shields.io/badge/PostgreSQL-12+-blue.svg)](https://www.postgresql.org/)

> ä¸€ä¸ªåŸºäºç°ä»£WebæŠ€æœ¯æ ˆæ„å»ºçš„ä¼ä¸šæ™ºèƒ½å›¾è°±ç³»ç»Ÿï¼Œä¸“æ³¨äºä¼ä¸šå…³ç³»ç½‘ç»œåˆ†æã€é£é™©è¯„ä¼°å’Œå®¢æˆ·ç®¡ç†ã€‚

## ğŸ“– é¡¹ç›®æ¦‚è§ˆ

EIG (Enterprise Intelligence Graph) æ˜¯ä¸€ä¸ªä¼ä¸šæ™ºèƒ½å›¾è°±ç³»ç»Ÿï¼Œæ—¨åœ¨æ„å»ºä¼ä¸šå…³ç³»ç½‘ç»œçš„åˆ†æå¹³å°ï¼Œæ”¯æŒï¼š

- ğŸ¢ **ä¼ä¸šæ•°æ®ç®¡ç†** - å®Œæ•´çš„ä¼ä¸šä¿¡æ¯ç®¡ç†å’Œç»´æŠ¤
- ğŸ•¸ï¸ **å…³ç³»ç½‘ç»œåˆ†æ** - å¯è§†åŒ–ä¼ä¸šé—´å¤æ‚å…³ç³»
- âš ï¸ **é£é™©è¯„ä¼°** - æ™ºèƒ½é£é™©è¯†åˆ«å’Œé¢„è­¦
- ğŸ‘¥ **å®¢æˆ·ç®¡ç†** - å…¨æ–¹ä½å®¢æˆ·ç”Ÿå‘½å‘¨æœŸç®¡ç†
- ğŸ“Š **æ•°æ®å¯è§†åŒ–** - ç›´è§‚çš„å›¾è¡¨å’Œå›¾è°±å±•ç¤º
- ğŸ” **æƒé™ç®¡ç†** - åŸºäºè§’è‰²çš„ç²¾ç»†åŒ–æƒé™æ§åˆ¶

## ğŸš€ æŠ€æœ¯æ¶æ„

### å‰ç«¯æŠ€æœ¯æ ˆ
- **æ¡†æ¶**: React 18.2 + TypeScript 5.7 + Vite 6.3
- **UIåº“**: shadcn/ui + Tailwind CSS 3
- **è·¯ç”±**: React Router 6.22
- **å›¾è¡¨**: D3.js 7.8 + Recharts 2.15
- **çŠ¶æ€ç®¡ç†**: Zustand 5.0

### åç«¯æŠ€æœ¯æ ˆ
- **æ¡†æ¶**: Express 5.1 + TypeScript 5.9
- **æ•°æ®åº“**: PostgreSQL 
- **è®¤è¯**: JWT + bcryptjs
- **å®‰å…¨**: Helmet + CORS
- **æ—¥å¿—**: Morgan

## ğŸ“ é¡¹ç›®ç»“æ„

```
EIG/
â”œâ”€â”€ frontend/                 # å‰ç«¯åº”ç”¨
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/       # Reactç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ pages/           # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ contexts/        # Reactä¸Šä¸‹æ–‡
â”‚   â”‚   â”œâ”€â”€ services/        # APIæœåŠ¡
â”‚   â”‚   â””â”€â”€ types/           # ç±»å‹å®šä¹‰
â”‚   â”œâ”€â”€ package.json
â”‚   â””â”€â”€ README.md
â”œâ”€â”€ backend/                 # åç«¯API
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ config/          # é…ç½®æ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ controllers/     # æ§åˆ¶å™¨
â”‚   â”‚   â”œâ”€â”€ middleware/      # ä¸­é—´ä»¶
â”‚   â”‚   â”œâ”€â”€ models/          # æ•°æ®æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ routes/          # è·¯ç”±å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ services/        # ä¸šåŠ¡é€»è¾‘
â”‚   â”‚   â””â”€â”€ types/           # ç±»å‹å®šä¹‰
â”‚   â”œâ”€â”€ scripts/             # è„šæœ¬æ–‡ä»¶
â”‚   â”œâ”€â”€ package.json
â”‚   â””â”€â”€ README.md
â””â”€â”€ README.md               # é¡¹ç›®ä¸»æ–‡æ¡£
```

## ğŸ—ï¸ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Node.js 18+
- PostgreSQL 12+
- npm æˆ– yarn æˆ– bun

### å®‰è£…æ­¥éª¤

1. **å…‹éš†é¡¹ç›®**
```bash
git clone <repository-url>
cd EIG
```

2. **å®‰è£…å‰ç«¯ä¾èµ–**
```bash
cd frontend
npm install
```

3. **å®‰è£…åç«¯ä¾èµ–**
```bash
cd ../backend
npm install
```

4. **é…ç½®æ•°æ®åº“**
```bash
# åˆ›å»ºPostgreSQLæ•°æ®åº“
createdb eig_database

# é…ç½®ç¯å¢ƒå˜é‡
cp .env.example .env
# ç¼–è¾‘ .env æ–‡ä»¶ï¼Œè®¾ç½®æ•°æ®åº“è¿æ¥ç­‰é…ç½®

# åˆå§‹åŒ–æ•°æ®åº“
npm run db:init
```

5. **å¯åŠ¨å¼€å‘ç¯å¢ƒ**
```bash
# å¯åŠ¨åç«¯æœåŠ¡ (ç»ˆç«¯1)
cd backend
npm run dev

# å¯åŠ¨å‰ç«¯æœåŠ¡ (ç»ˆç«¯2)  
cd frontend
npm run dev
```

6. **è®¿é—®åº”ç”¨**
- å‰ç«¯: http://localhost:5173
- åç«¯API: http://localhost:3001
- å¥åº·æ£€æŸ¥: http://localhost:3001/health

### æµ‹è¯•è´¦å·

ç³»ç»Ÿæä¾›ä»¥ä¸‹æµ‹è¯•è´¦å·ï¼š

| è§’è‰² | é‚®ç®± | å¯†ç  | æƒé™æè¿° |
|------|------|------|----------|
| ç®¡ç†å‘˜ | admin@eig.com | admin123 | æ‰€æœ‰åŠŸèƒ½æƒé™ |
| ç»ç† | manager@eig.com | manager123 | ä¸šåŠ¡ç®¡ç†æƒé™ |
| åˆ†æå¸ˆ | analyst@eig.com | analyst123 | æ•°æ®åˆ†ææƒé™ |
| æŸ¥çœ‹å‘˜ | viewer@eig.com | viewer123 | åŸºç¡€æŸ¥çœ‹æƒé™ |

## âœ… å·²å®ŒæˆåŠŸèƒ½

### åŸºç¡€æ¶æ„ (90%)
- [x] å‰åç«¯åˆ†ç¦»æ¶æ„
- [x] TypeScripté…ç½®
- [x] å¼€å‘ç¯å¢ƒé…ç½®
- [x] é¡¹ç›®ç»“æ„è§„èŒƒ

### è®¤è¯ç³»ç»Ÿ (95%)
- [x] JWT tokenè®¤è¯
- [x] è§’è‰²æƒé™æ§åˆ¶ (admin/manager/analyst/viewer)
- [x] æƒé™ä¸­é—´ä»¶
- [x] å‰ç«¯è®¤è¯ä¸Šä¸‹æ–‡
- [x] ç™»å½•/ç™»å‡ºåŠŸèƒ½

### æ•°æ®åº“è®¾è®¡ (90%)
- [x] å®Œæ•´è¡¨ç»“æ„è®¾è®¡
- [x] ç”¨æˆ·ã€ä¼ä¸šã€å®¢æˆ·ã€å…³ç³»è¡¨
- [x] æ•°æ®æºç®¡ç†è¡¨
- [x] ç´¢å¼•ä¼˜åŒ–
- [x] æ•°æ®åº“åˆå§‹åŒ–è„šæœ¬
- [x] ç§å­æ•°æ®

### åç«¯APIæ¡†æ¶ (25%)
- [x] ExpressæœåŠ¡å™¨é…ç½®
- [x] è®¤è¯è·¯ç”± (`/auth`)
- [x] ä¼ä¸šç®¡ç†è·¯ç”± (`/enterprises`) - éƒ¨åˆ†å®Œæˆ
- [x] å®Œæ•´çš„é”™è¯¯å¤„ç†
- [x] CORSå’Œå®‰å…¨é…ç½®

### å‰ç«¯é¡µé¢ç»“æ„ (20%)
- [x] è·¯ç”±ä¿æŠ¤æœºåˆ¶
- [x] ä¸»è¦é¡µé¢ç»„ä»¶æ¡†æ¶
- [x] UIç»„ä»¶åº“é›†æˆ (shadcn/ui)
- [x] å“åº”å¼å¸ƒå±€å‡†å¤‡

## ğŸ”„ å¾…å®ŒæˆåŠŸèƒ½

### æ ¸å¿ƒä¸šåŠ¡åŠŸèƒ½
- [ ] ä¼ä¸šå…³ç³»å›¾è°±å¯è§†åŒ– (D3.js)
- [ ] å…³ç³»è·¯å¾„åˆ†æç®—æ³•  
- [ ] æ•°æ®æºè¿æ¥å™¨
- [ ] æ‰¹é‡æ•°æ®å¯¼å…¥
- [ ] å®¢æˆ·ç®¡ç†å®Œæ•´åŠŸèƒ½
- [ ] å…¨æ–‡æœç´¢ç³»ç»Ÿ
- [ ] é£é™©è¯„ä¼°ç®—æ³•
- [ ] é¢„è­¦æœºåˆ¶

### æŠ€æœ¯å®Œå–„
- [ ] å‰©ä½™APIè·¯ç”±å®ç°
- [ ] å‰ç«¯é¡µé¢åŠŸèƒ½å®ç°
- [ ] APIæ¥å£å¯¹æ¥
- [ ] æ•°æ®å¯è§†åŒ–å›¾è¡¨
- [ ] å•å…ƒæµ‹è¯•
- [ ] é›†æˆæµ‹è¯•
- [ ] Dockeréƒ¨ç½²é…ç½®

## ğŸ“ˆ å¼€å‘è¿›åº¦

**æ•´ä½“å®Œæˆåº¦: ~35%**

| æ¨¡å— | è¿›åº¦ | çŠ¶æ€ |
|------|------|------|
| é¡¹ç›®æ¶æ„å’ŒåŸºç¡€è®¾æ–½ | 90% | âœ… å·²å®Œæˆ |
| è®¤è¯æˆæƒç³»ç»Ÿ | 95% | âœ… å·²å®Œæˆ |
| æ•°æ®åº“è®¾è®¡ | 90% | âœ… å·²å®Œæˆ |
| åç«¯APIå®ç° | 25% | ğŸ”„ è¿›è¡Œä¸­ |
| å‰ç«¯é¡µé¢åŠŸèƒ½ | 20% | ğŸ”„ è¿›è¡Œä¸­ |
| ä¸šåŠ¡é€»è¾‘å®ç° | 5% | âŒ å¾…å¼€å§‹ |
| æµ‹è¯•å’Œéƒ¨ç½² | 0% | âŒ å¾…å¼€å§‹ |

## ğŸ¯ API ç«¯ç‚¹

### è®¤è¯ç›¸å…³
- `POST /api/v1/auth/login` - ç”¨æˆ·ç™»å½•
- `GET /api/v1/auth/me` - è·å–å½“å‰ç”¨æˆ·ä¿¡æ¯
- `POST /api/v1/auth/logout` - ç”¨æˆ·ç™»å‡º
- `POST /api/v1/auth/refresh` - åˆ·æ–°token

### ä¼ä¸šæ•°æ®
- `GET /api/v1/enterprises` - è·å–ä¼ä¸šåˆ—è¡¨
- `GET /api/v1/enterprises/:id` - è·å–ä¼ä¸šè¯¦æƒ…
- `POST /api/v1/enterprises` - åˆ›å»ºä¼ä¸š
- `PUT /api/v1/enterprises/:id` - æ›´æ–°ä¼ä¸š
- `DELETE /api/v1/enterprises/:id` - åˆ é™¤ä¼ä¸š

### å®¢æˆ·ç®¡ç† (å¾…å®ç°)
- `GET /api/v1/clients` - è·å–å®¢æˆ·åˆ—è¡¨
- `GET /api/v1/clients/:id` - è·å–å®¢æˆ·è¯¦æƒ…
- `POST /api/v1/clients` - åˆ›å»ºå®¢æˆ·
- `PUT /api/v1/clients/:id` - æ›´æ–°å®¢æˆ·

### å›¾è°±æ•°æ® (å¾…å®ç°)
- `GET /api/v1/graph` - è·å–å›¾è°±æ•°æ®
- `GET /api/v1/graph/enterprise/:id` - è·å–ä¼ä¸šå…³ç³»å›¾è°±
- `GET /api/v1/graph/path` - è·å–å…³ç³»è·¯å¾„

## ğŸ” æƒé™ç³»ç»Ÿ

ç³»ç»Ÿé‡‡ç”¨åŸºäºè§’è‰²çš„æƒé™æ§åˆ¶(RBAC)ï¼š

### è§’è‰²å®šä¹‰
- **admin** - ç³»ç»Ÿç®¡ç†å‘˜ï¼šæ‰€æœ‰æƒé™
- **manager** - éƒ¨é—¨ç»ç†ï¼šç®¡ç†æƒé™  
- **analyst** - æ•°æ®åˆ†æå¸ˆï¼šåˆ†ææƒé™
- **viewer** - å®¢æˆ·ç»ç†ï¼šæŸ¥çœ‹æƒé™

### æƒé™åˆ—è¡¨
- `view_dashboard` - æŸ¥çœ‹å·¥ä½œå°
- `view_enterprise` - æŸ¥çœ‹ä¼ä¸šæ•°æ®
- `view_graph` - æŸ¥çœ‹å›¾è°±
- `view_prospects` - æŸ¥çœ‹æ½œåœ¨å®¢æˆ·
- `view_search` - ä½¿ç”¨æœç´¢åŠŸèƒ½
- `view_clients` - æŸ¥çœ‹å®¢æˆ·
- `manage_data` - ç®¡ç†æ•°æ®
- `manage_system` - ç³»ç»Ÿç®¡ç†
- `export_data` - å¯¼å‡ºæ•°æ®
- `import_data` - å¯¼å…¥æ•°æ®
- `user_management` - ç”¨æˆ·ç®¡ç†

## ğŸ› ï¸ å¼€å‘å‘½ä»¤

### åç«¯
```bash
cd backend
npm run dev        # å¼€å‘æ¨¡å¼å¯åŠ¨
npm run build      # æ„å»ºé¡¹ç›®
npm start          # ç”Ÿäº§ç¯å¢ƒå¯åŠ¨
npm run db:init    # åˆå§‹åŒ–æ•°æ®åº“
```

### å‰ç«¯
```bash
cd frontend
npm run dev        # å¼€å‘æ¨¡å¼å¯åŠ¨
npm run build      # æ„å»ºé¡¹ç›®
npm run preview    # é¢„è§ˆæ„å»ºç»“æœ
npm run lint       # ä»£ç æ£€æŸ¥
```

## ğŸ“ è´¡çŒ®æŒ‡å—

1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. æ‰“å¼€ Pull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ [MIT è®¸å¯è¯](LICENSE)ã€‚

## ğŸ¤ æ”¯æŒ

å¦‚æœä½ è§‰å¾—è¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸€ä¸ª â­ï¸ æ”¯æŒï¼

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·æäº¤ [Issue](https://github.com/your-username/EIG/issues)ã€‚

---

**EIG Team** Â© 2025